<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript #5: работа с нестандартными свойствами DOM-элементов: getAttribute, setAttribute, dataset</title>
</head>
<style>
    td[data-cell-red="#CC0000"]{
        background: #CC0000;
    }
    td[data-cell-red="lightRed"]{
        background: #FF9999;
    }
</style>
<body>
    <div id="comm" deflt="значение">Сообщение от пользователей</div>
    <input id="input" type="checkbox" checked>checkbox

    <table>
        <tr>
            <td data-cell-red="#CC0000">1</td>
            <td data-cell-blue="#0000CC">2</td>
            <td data-cell-red="#CC0000">3</td>
            <td data-cell-blue="#0000CC">4</td>
        </tr>
        <tr>
            <td data-cell-blue="#CC0000">5</td>
            <td data-cell-red="#CC0000">6</td>
            <td data-cell-blue="#CC0000">7</td>
            <td data-cell-red="#CC0000">8</td>
        </tr>
    </table>

    <script>
        // Получаем содержимое body
        let body = document.body;
        // Присваиваем новые свойства для body
        body.myStyle = "color: red";
        body.myStyle = {
            color: "red",
            fontSize: 20
        };

        // Присваиваем функцию которая возвращает размер шрифта
        body.getFontSize = function() {
            return this.myStyle.fontSize;
        }
        console.log(body.getFontSize());

        // Посмотреть свойства 
        console.dir(body);
        let div = document.getElementById("comm");
        console.log(div.id);

        let div = document.getElementById("comm");
        // Получаем значение атрибута
        console.log(div.getAttribute("deflt"));
        // Меняем значение атрибута на новое 
        div.setAttribute("deflt", "новое значение");
        console.log(div.getAttribute("deflt"));

        // Выводим все атрибуты
        for(let val of div.attributes)
        console.log(val);

        // let inp = document.getElementById("input");
        // Проверяем тип атрибута с помощью typeof
        console.log(typeof inp.checked);

        // Устанавливаем атрибут для таблицы 
        for(let cell of document.querySelectorAll('[cell-red]')){
            let attr = cell.getAttribute('cell-red');
            cell.style.background = attr;
        }  
        
        // Устанавливаем атрибут для таблицы, по флагу
        let flSkip = false;
        for(let cell of document.querySelectorAll('[data-cell-red]')) {
            if(!flSkip) cell.setAttribute('data-cell-red', 'lightRed');
            flSkip = !flSkip;
        }
        
        // Атрибут cell-red в HTML = cellRed в JS
        // Если свойство использует дефисы, то в dataset оно прописывается в верблюжьей нотации (например, data-cell-red => cellRed)
        // в остальных случаях просто используется оставшееся имя (например, data-color => color).
        let flSkip = false;
        for(let cell of document.querySelectorAll('[data-cell-red]')) {
            if(!flSkip) cell.dataset.cellRed = 'lightRed';
            flSkip = !flSkip;
        }
        
    </script>
</body>
</html>